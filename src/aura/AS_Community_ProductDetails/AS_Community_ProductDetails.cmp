<aura:component
        controller="AS_ProductViewController"
        implements="flexipage:availableForAllPageTypes,
                forceCommunity:availableForAllPageTypes,
                flexipage:availableForRecordHome,
                 force:appHostable,
                 force:hasRecordId">
    <aura:attribute name="product" type="Object"/>
    <aura:attribute name="productInfoWrapper" type="Object"/>
    <aura:attribute name="discountPrice" type="String"/>
    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>


    <force:recordData aura:id="recordLoader"
                      recordId="{!v.recordId}"
                      fields="Id,Name,Description,Family"
                      targetFields="{!v.product}"
                      targetError="{!v.recordLoadError}"
    />

    <div class="product-description__container">

        <h1 class="title">{!v.product.Name}</h1>
        <p class="product-family">{!v.product.Family}</p>
        <div class="stars">
            <div class="product-rating slds-button-group-row">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        </div>
        <div class="price">
            <p class="price-word">Price: </p>
            <aura:if isTrue="{!v.productInfoWrapper.standardPrice != null}">
                <div class="oldPrice">
                    <p>{!v.productInfoWrapper.standardPrice} $</p>
                    <div class="score-price-out"></div>
                </div>
            </aura:if>

            <p class="price-number">{!v.productInfoWrapper.price} $</p>
        </div>
        <h1 class="description-title">Description</h1>
        <p class="description">{!v.product.Description}</p>


        <div class="buttons">
            <lightning:button onclick="{!c.addToBasket}" variant="success" label="{!$Label.c.AS_Community_BuyButton}"/>
        </div>
    </div>
    <c:AS_SendResultToast aura:id ="toastMaker"/>
    <c:AS_SendErrorToast aura:id ="errorToastMaker"/>
</aura:component>












