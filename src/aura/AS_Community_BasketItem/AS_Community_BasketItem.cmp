<!--
 - Created by tomas on 25.11.2020.
 -->

<aura:component description="AS_Community_BasketItem"
                implements="flexipage:availableForAllPageTypes,
                forceCommunity:availableForAllPageTypes,
                flexipage:availableForRecordHome,
                 force:appHostable">

    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>

    <aura:attribute type="Object" name="opportunityProduct"/>
    <aura:attribute type="Object" name="product"/>
    <aura:attribute name="recordLoadError" type="String"/>
    <aura:attribute name="numberOfUnits" type="String"/>
    <aura:attribute name="productPrice" type="String"/>
    <aura:attribute name="priceSum" type="String"/>

    <force:recordData aura:id="recordLoader"
                      recordId="{!v.opportunityProduct.Product2Id}"
                      fields="Id,Name,Description,Family,mainPictureId__c"
                      targetFields="{!v.product}"
                      targetError="{!v.recordLoadError}"
    />

    <lightning:layout class="lightning-layout-container">
        <div class="container">

            <!--        <div class="container-cmp img" style="{!'background-image:url(\'https://athletic-stuff-dev-ed.lightning.force.com/sfc/servlet.shepherd/version/download/'+v.product.mainPictureId__c+'\')'}">-->
            <!--                 style="{!'background-image:url(\'https://athletic-stuff-dev-ed.lightning.force.com/sfc/servlet.shepherd/version/download/0687R00000FXE5MQAX\')'}"></div>-->

            <div class="container-cmp img">
                <div class="background-img"
                style="{!'background-image:url(\'https://athletic-stuff-dev-ed.lightning.force.com/sfc/servlet.shepherd/version/download/'+v.product.mainPictureId__c+'\')'}">
            </div>

        </div>
        <div class="container-cmp name">
            <!--    <p class="title">{!v.product.Name}</p>-->
<!--            <p class="title">Łyżworolki 2w1 Dla Dziewczynek Regulowane 35-38</p>-->
            <p class="title">{!v.product.Name}</p>

        </div>
        <div class="container-cmp lp">
            <div class="lp-container">
                <button onclick="{!c.decrease}">-</button>
                <span>{!v.numberOfUnits}</span>
                <lightning:button class="lightning-btn" onclick="{!c.increase}">+</lightning:button>
            </div>
        </div>
        <div class="container-cmp price">
            <div class="price-container">
                <p class="price-number">{!v.priceSum}</p>
                <p class="price-currency">$</p>
            </div>
        </div>
        <div class="container-cmp trash">
            <button>
                <lightning:icon class="trash-icon" iconName="utility:delete"/>
            </button>
        </div>

        </div>

    </lightning:layout>

</aura:component>
